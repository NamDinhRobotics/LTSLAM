.. highlight:: c++

.. default-domain:: cpp

=================
Bundle Adjustment
=================
本文翻译于 `Bundle Adjustment Revisited <https://arxiv.org/pdf/1912.03858.pdf>`_


I. Introduction
===============================

集束平差法在大地测量学和 3D 重建（SLAM 和 SfM）中发挥着重要作用，但直到最近才被认为已解决。集束束调整构成大多数最先进的多视图几何系统中的核心组件，
并且通常作为最终细化阶段调用，以近似初始场景估计以及在增量重建中消除漂移的方法。 Levenberg-Marquardt 算法已被证明是解决该公式的最成功的方法，、
因为它易于实现、对初始化具有鲁棒性，并且其框架非常适合利用现在的稀疏形式的多视图几何的问题上。该算法的每一步都会产生一个参数估计值，
该估计值在前一个的基础上有所改进，由此产生的一系列迭代可以显示为收敛到手头目标函数的局部最小值。

因此，在过去十年中提出了许多捆绑调整的方法。 这些方法分为两组：第一个分支侧重于使捆绑调整算法尽可能高效，
而第二个分支侧重于减少单个捆绑调整的大小或调用频率。

集束调整是细化视觉重建以产生联合最优 3D 结构和观看参数估计的关键。 最优意味着通过最小化一些量化模型拟合误差的成本函数来找到参数估计，
同时，解决方案在结构和相机变化方面同时是最优的。 该名称指的是离开每个 3D 特征并会聚在每个相机中心的光线“束”，
这些光线针对特征和相机位置进行了最佳“调整”。

本文的主要目的有两个：

* 1 从理论和实践层面对集束平差法调整问题进行详细探索和推导。
* 2 展示平行束平差的发展历程，并给出未来束平差的方向。

我们的论文组织如下：首先在第二部分介绍投影相机模型和相机失真，然后展示如何使用引入的相机模型进行束调整。 
在第三节中，我们详细给出了传统捆绑调整的推导，分布式捆绑调整算法在第四节中给出。 最后，对我们的工作做一个总结。

II. Projection Camera Model
===============================

束调整描述了测量的像素坐标 :math:`u_{ij}` 和重新投影的像素坐标之间的误差总和。重新投影的像素坐标由结构（世界框架中的 3D 点坐标）
和相机参数计算得出。 因此，在我们深入研究捆绑调整之前，必须弄清楚重新投影的过程。 我们将在本节首先介绍针孔相机模型。

A. pinhole camera
-------------------------------

针孔相机模型如图1所示，相机坐标系 :math:`o-xyz` 中 :math:`p` 坐标为 :math:`(X,Y,Z)^T` ，相机焦距为 :math:`f` ，相机中心 :math:`o` 为针孔， 
并且 :math:`p` 被投影到成像平面 :math:`o-xy` 中，并由二维点 :math:`p^{\prime}` 表示。

.. figure:: ./images/camera_pinhole_model.png
   :align: center

.. figure:: ./images/similar_triangle.png
   :align: center

B. camera distortion
-------------------------------


III. Conventional Bundle Adjustment
===================================

A. reduced camera system
--------------------------------------------

B. bundle adjustment with conjugate gradient
--------------------------------------------

IV. Distributed Bundle Adjustment
============================================

V. Conclusion
============================================

在本文中，我们以传统方式和分布式方式对捆绑调整问题进行了详细的推导和各种解决方案。 
很明显，预处理共轭梯度方法可以替代基于稠密 Cholesky 分解的方法。 
虽然分布式束调整方法易于解决非常大规模的重建问题，但它们在准确性和效率方面都超过了从小到大规模问题的传统方法。

VI. Reference
============================================

1 `Bundle Adjustment Revisited <https://arxiv.org/pdf/1912.03858.pdf>`_
